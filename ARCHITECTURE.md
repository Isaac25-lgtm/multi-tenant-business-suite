# ğŸ—ï¸ DENOVE APS - System Architecture

## System Overview Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DENOVE APS SYSTEM                        â”‚
â”‚                   Business Management Platform                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    FRONTEND    â”‚           â”‚     BACKEND      â”‚
        â”‚  React + Vite  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  Flask + SQLite  â”‚
        â”‚  Tailwind CSS  â”‚   HTTP    â”‚   SQLAlchemy     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   REST    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                              â”‚
                                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                                     â”‚    DATABASE     â”‚
                                     â”‚     SQLite      â”‚
                                     â”‚  (Development)  â”‚
                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## User Roles & Access

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          USER HIERARCHY                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚   MANAGER    â”‚
                        â”‚  (Full Access)â”‚
                        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                  â”‚                  â”‚
      â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
      â”‚   SARAH    â”‚    â”‚   DAVID    â”‚    â”‚   GRACE    â”‚
      â”‚ (Boutique) â”‚    â”‚ (Hardware) â”‚    â”‚ (Finances) â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      
Manager can:                Employee can:
âœ“ See all businesses        âœ“ See assigned business only
âœ“ Edit any date             âœ“ Edit today + yesterday
âœ“ Add stock                 âœ“ Record sales
âœ“ Manage employees          âœ“ Clear credits
âœ“ View reports              âœ“ View own transactions
âœ“ Full permissions          âœ“ Limited permissions
```

## Database Schema (Simplified)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    USERS     â”‚         â”‚  CUSTOMERS   â”‚         â”‚  AUDIT_LOGS  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id           â”‚         â”‚ id           â”‚         â”‚ id           â”‚
â”‚ username     â”‚         â”‚ name         â”‚         â”‚ user_id      â”‚
â”‚ password_hashâ”‚         â”‚ phone        â”‚         â”‚ action       â”‚
â”‚ name         â”‚         â”‚ address      â”‚         â”‚ module       â”‚
â”‚ role         â”‚         â”‚ nin          â”‚         â”‚ entity_type  â”‚
â”‚ assigned_bus â”‚         â”‚ business_typeâ”‚         â”‚ entity_id    â”‚
â”‚ is_active    â”‚         â”‚ created_at   â”‚         â”‚ description  â”‚
â”‚ can_backdate â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ is_flagged   â”‚
â”‚ backdate_lim â”‚                                  â”‚ created_at   â”‚
â”‚ can_edit     â”‚                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ can_delete   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BOUTIQUE_STOCK   â”‚      â”‚ BOUTIQUE_SALES   â”‚      â”‚ BOUTIQUE_SALE    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚     _ITEMS       â”‚
â”‚ id               â”‚      â”‚ id               â”‚      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ item_name        â”‚      â”‚ reference_number â”‚      â”‚ id               â”‚
â”‚ category_id      â”‚â—„â”€â”   â”‚ sale_date        â”‚      â”‚ sale_id          â”‚
â”‚ quantity         â”‚  â”‚   â”‚ customer_id      â”‚â—„â”€â”   â”‚ stock_id         â”‚
â”‚ initial_quantity â”‚  â”‚   â”‚ payment_type     â”‚  â”‚   â”‚ item_name        â”‚
â”‚ unit             â”‚  â”‚   â”‚ total_amount     â”‚  â”‚   â”‚ quantity         â”‚
â”‚ cost_price       â”‚  â”‚   â”‚ amount_paid      â”‚  â”‚   â”‚ unit_price       â”‚
â”‚ min_selling_priceâ”‚  â”‚   â”‚ balance          â”‚  â”‚   â”‚ subtotal         â”‚
â”‚ max_selling_priceâ”‚  â”‚   â”‚ is_credit_clearedâ”‚  â”‚   â”‚ is_other_item    â”‚
â”‚ low_stock_thresh â”‚  â”‚   â”‚ is_deleted       â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ is_active        â”‚  â”‚   â”‚ created_by       â”‚  â”‚
â”‚ created_at       â”‚  â”‚   â”‚ created_at       â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚ BOUTIQUE_CREDIT  â”‚
                      â”‚                         â”‚   â”‚    _PAYMENTS     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                         â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ BOUTIQUE         â”‚  â”‚                         â””â”€â”€â”€â”‚ id               â”‚
â”‚   _CATEGORIES    â”‚  â”‚                             â”‚ sale_id          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚                             â”‚ payment_date     â”‚
â”‚ id               â”‚â”€â”€â”˜                             â”‚ amount           â”‚
â”‚ name             â”‚                                â”‚ remaining_balanceâ”‚
â”‚ created_at       â”‚                                â”‚ created_by       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚ created_at       â”‚
                                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Note: HARDWARE module has identical structure with hardware_ prefix
```

## API Endpoints Structure

```
/api
â”œâ”€â”€ /auth
â”‚   â”œâ”€â”€ POST   /login                    (Public)
â”‚   â”œâ”€â”€ POST   /logout                   (Auth)
â”‚   â”œâ”€â”€ GET    /me                       (Auth)
â”‚   â””â”€â”€ PUT    /change-password          (Auth)
â”‚
â”œâ”€â”€ /employees                            (Manager Only)
â”‚   â”œâ”€â”€ GET    /                         List all
â”‚   â”œâ”€â”€ POST   /                         Create
â”‚   â”œâ”€â”€ GET    /{id}                     Get one
â”‚   â”œâ”€â”€ PUT    /{id}                     Update
â”‚   â”œâ”€â”€ DELETE /{id}                     Deactivate
â”‚   â””â”€â”€ PUT    /{id}/permissions         Update permissions
â”‚
â”œâ”€â”€ /customers                            (Auth)
â”‚   â”œâ”€â”€ GET    /                         List
â”‚   â”œâ”€â”€ GET    /search?q=...             Search
â”‚   â”œâ”€â”€ POST   /                         Create
â”‚   â”œâ”€â”€ GET    /{id}                     Get one
â”‚   â””â”€â”€ PUT    /{id}                     Update
â”‚
â”œâ”€â”€ /boutique                             (Auth + Boutique Access)
â”‚   â”œâ”€â”€ /categories
â”‚   â”‚   â”œâ”€â”€ GET    /                     List
â”‚   â”‚   â””â”€â”€ POST   /                     Create (Manager)
â”‚   â”œâ”€â”€ /stock
â”‚   â”‚   â”œâ”€â”€ GET    /                     List
â”‚   â”‚   â”œâ”€â”€ POST   /                     Add (Manager)
â”‚   â”‚   â”œâ”€â”€ PUT    /{id}                 Update (Manager)
â”‚   â”‚   â”œâ”€â”€ PUT    /{id}/quantity        Adjust (Manager)
â”‚   â”‚   â””â”€â”€ DELETE /{id}                 Delete (Manager)
â”‚   â”œâ”€â”€ /sales
â”‚   â”‚   â”œâ”€â”€ GET    /                     List (filtered by role)
â”‚   â”‚   â”œâ”€â”€ POST   /                     Create
â”‚   â”‚   â”œâ”€â”€ GET    /{id}                 Get one
â”‚   â”‚   â””â”€â”€ DELETE /{id}                 Soft delete
â”‚   â””â”€â”€ /credits
â”‚       â”œâ”€â”€ GET    /                     List pending
â”‚       â”œâ”€â”€ GET    /cleared              List cleared (Manager)
â”‚       â”œâ”€â”€ GET    /{id}                 Get details
â”‚       â””â”€â”€ POST   /{id}/payment         Record payment
â”‚
â”œâ”€â”€ /hardware                             (Same structure as boutique)
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ /dashboard                            (Auth)
    â”œâ”€â”€ GET    /manager                  Manager dashboard
    â”œâ”€â”€ GET    /employee                 Employee dashboard
    â””â”€â”€ GET    /notifications            Alerts
```

## Data Flow - Sale Creation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SALE CREATION FLOW                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Employee/Manager              Frontend                    Backend
     â”‚                            â”‚                          â”‚
     â”‚  1. Fill sale form         â”‚                          â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                          â”‚
     â”‚                            â”‚                          â”‚
     â”‚  2. Select items           â”‚                          â”‚
     â”‚    Enter quantities        â”‚                          â”‚
     â”‚    Enter prices            â”‚                          â”‚
     â”‚    Choose payment type     â”‚                          â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                          â”‚
     â”‚                            â”‚                          â”‚
     â”‚  3. Submit                 â”‚  POST /api/.../sales     â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚                            â”‚                          â”‚
     â”‚                            â”‚  4. Validate user role   â”‚
     â”‚                            â”‚                    â”Œâ”€â”€â”€â”€â”€â–ºâ”‚
     â”‚                            â”‚                    â”‚     â”‚
     â”‚                            â”‚  5. Validate date  â”‚     â”‚
     â”‚                            â”‚                    â”‚     â”‚
     â”‚                            â”‚  6. Validate pricesâ”‚     â”‚
     â”‚                            â”‚                    â”‚     â”‚
     â”‚                            â”‚  7. Check stock    â”‚     â”‚
     â”‚                            â”‚                    â”‚     â”‚
     â”‚                            â”‚  8. Create customerâ”‚     â”‚
     â”‚                            â”‚     (if needed)    â”‚     â”‚
     â”‚                            â”‚                    â”‚     â”‚
     â”‚                            â”‚  9. Generate ref# â”‚     â”‚
     â”‚                            â”‚                    â”‚     â”‚
     â”‚                            â”‚  10. Create sale   â”‚     â”‚
     â”‚                            â”‚                    â”‚     â”‚
     â”‚                            â”‚  11. Add items     â”‚     â”‚
     â”‚                            â”‚                    â”‚     â”‚
     â”‚                            â”‚  12. Update stock  â”‚     â”‚
     â”‚                            â”‚                    â”‚     â”‚
     â”‚                            â”‚  13. Log audit     â”‚     â”‚
     â”‚                            â”‚                    â””â”€â”€â”€â”€â”€â”˜
     â”‚                            â”‚                          â”‚
     â”‚                            â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  Response with sale data â”‚
     â”‚                            â”‚                          â”‚
     â”‚  14. Show success          â”‚                          â”‚
     â”‚      Display receipt optionâ”‚                          â”‚
```

## Component Hierarchy - Frontend

```
App.jsx
â”‚
â”œâ”€â”€ Router
â”‚   â”‚
â”‚   â”œâ”€â”€ /login
â”‚   â”‚   â””â”€â”€ LoginPage
â”‚   â”‚
â”‚   â”œâ”€â”€ /dashboard (Manager Only)
â”‚   â”‚   â””â”€â”€ DashboardLayout
â”‚   â”‚       â”œâ”€â”€ Header
â”‚   â”‚       â”œâ”€â”€ Sidebar
â”‚   â”‚       â””â”€â”€ ManagerDashboard
â”‚   â”‚           â”œâ”€â”€ Stats Cards
â”‚   â”‚           â”œâ”€â”€ Notifications
â”‚   â”‚           â”œâ”€â”€ Line Chart (7-day trend)
â”‚   â”‚           â”œâ”€â”€ Pie Chart (by business)
â”‚   â”‚           â””â”€â”€ Business Breakdown
â”‚   â”‚
â”‚   â”œâ”€â”€ /employee-dashboard
â”‚   â”‚   â””â”€â”€ DashboardLayout
â”‚   â”‚       â”œâ”€â”€ Header
â”‚   â”‚       â”œâ”€â”€ Sidebar
â”‚   â”‚       â””â”€â”€ EmployeeDashboard
â”‚   â”‚           â”œâ”€â”€ Stats Cards
â”‚   â”‚           â”œâ”€â”€ Quick Actions
â”‚   â”‚           â””â”€â”€ Recent Transactions
â”‚   â”‚
â”‚   â”œâ”€â”€ /boutique
â”‚   â”‚   â””â”€â”€ DashboardLayout
â”‚   â”‚       â”œâ”€â”€ Header
â”‚   â”‚       â”œâ”€â”€ Sidebar
â”‚   â”‚       â””â”€â”€ BoutiquePage
â”‚   â”‚           â””â”€â”€ (To be completed)
â”‚   â”‚
â”‚   â”œâ”€â”€ /hardware
â”‚   â”‚   â””â”€â”€ DashboardLayout
â”‚   â”‚       â””â”€â”€ HardwarePage
â”‚   â”‚           â””â”€â”€ (To be completed)
â”‚   â”‚
â”‚   â””â”€â”€ /employees (Manager Only)
â”‚       â””â”€â”€ DashboardLayout
â”‚           â””â”€â”€ EmployeesPage
â”‚               â””â”€â”€ Employee List Table
```

## Security Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        SECURITY LAYERS                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Layer 1: Authentication
â”œâ”€â”€ JWT token required for all protected routes
â”œâ”€â”€ Token expiration (24 hours)
â”œâ”€â”€ Secure password hashing (bcrypt)
â””â”€â”€ Token refresh mechanism

Layer 2: Authorization
â”œâ”€â”€ Role check (manager vs employee)
â”œâ”€â”€ Business unit access check
â”œâ”€â”€ Permission validation (can_edit, can_delete, etc.)
â””â”€â”€ Custom decorators on routes

Layer 3: Data Validation
â”œâ”€â”€ Input sanitization
â”œâ”€â”€ Type checking
â”œâ”€â”€ Price range validation
â”œâ”€â”€ Date restriction enforcement
â””â”€â”€ Stock quantity verification

Layer 4: Audit Trail
â”œâ”€â”€ Every action logged
â”œâ”€â”€ User identification
â”œâ”€â”€ Timestamp recording
â”œâ”€â”€ Old/new values stored
â””â”€â”€ Flagging suspicious actions

Layer 5: Database
â”œâ”€â”€ SQL injection prevention (ORM)
â”œâ”€â”€ Prepared statements
â”œâ”€â”€ Soft deletes (no data loss)
â””â”€â”€ Foreign key constraints
```

## Deployment Architecture (Future)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PRODUCTION DEPLOYMENT                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚   INTERNET   â”‚
                        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚    NGINX     â”‚
                        â”‚ (Reverse     â”‚
                        â”‚  Proxy)      â”‚
                        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                  â”‚                  â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
     â”‚   Static    â”‚    â”‚  Gunicorn  â”‚    â”‚   Redis    â”‚
     â”‚   Files     â”‚    â”‚  (WSGI)    â”‚    â”‚  (Cache)   â”‚
     â”‚  (React)    â”‚    â”‚            â”‚    â”‚            â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                        â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
                        â”‚   Flask    â”‚
                        â”‚    App     â”‚
                        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                        â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
                        â”‚PostgreSQL  â”‚
                        â”‚ Database   â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**This architecture supports:**
- âœ… Scalability (can add more servers)
- âœ… Security (multiple layers)
- âœ… Maintainability (clean separation)
- âœ… Testability (modular design)
- âœ… Flexibility (easy to extend)
